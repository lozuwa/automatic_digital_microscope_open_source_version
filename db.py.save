from pymongo import *
import gridfs

try:
 client = MongoClient()
 db = client.focus
 fs = gridfs.GridFS(db)
except:
 print('Failed to initialize db, maybe mongod is not executing?')

def insert_value(slide):
 """ Slide: int value  """
 db.focus.insert_one({'slide':slide})

def update(slide, samples, refocus):
 """ Slide: int value, samples: 1d-vector or list, refocus: 1d-vector or list """
 db.focus.update({'field':slide}, {'$push':{'samples':samples, 'refocus':refocus}})

def insert_image(im):
 fs.put()
